<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Rallye Passion â€” Article</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="logo">Rallye Passion</div>
      <button class="mobile-nav-toggle" aria-expanded="false" aria-label="Ouvrir le menu">â˜°</button>
      <nav class="main-nav">
        <a href="../index.html" class="nav-link">Accueil</a>
        <a href="actus.html" class="nav-link">ActualitÃ©s</a>
        <a href="resultats.html" class="nav-link">RÃ©sultats</a>
        <a href="calendrier.html" class="nav-link">Calendrier</a>
        <a href="https://auvio.rtbf.be/emission/wrc-9376" class="nav-link" target="_blank">ğŸ“º WRC Live</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <section class="section">
      <a href="actus.html" class="btn outline" style="margin-bottom: 2rem;">â† Retour aux actualitÃ©s</a>
      
      <article class="article-detail">
        <h1 id="article-title" class="article-title"></h1>
        <p id="article-date" class="article-date"></p>
        <div id="article-content" class="article-content"></div>
      </article>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <nav class="footer-nav">
        <a href="../index.html">Accueil</a>
        <a href="actus.html">ActualitÃ©s</a>
        <a href="resultats.html">RÃ©sultats</a>
        <a href="calendrier.html">Calendrier</a>
        <a href="https://auvio.rtbf.be/emission/wrc-9376" target="_blank">ğŸ“º Regarder WRC</a>
      </nav>
      <p class="legal">Â© Rallye Passion â€” Mentions lÃ©gales fictives</p>
    </div>
  </footer>

  <script src="../data.js"></script>
  <script>
    // RÃ©cupÃ©rer l'ID de l'article depuis l'URL
    const urlParams = new URLSearchParams(window.location.search);
    const articleId = parseInt(urlParams.get('id')) || 1;

    // Trouver l'article dans la base de donnÃ©es
    const article = newsDatabase.find(a => a.id === articleId);

    if (article) {
      document.getElementById('article-title').textContent = article.title;
      document.getElementById('article-date').textContent = article.date;
      document.getElementById('article-content').textContent = article.content;
      document.title = `Rallye Passion â€” ${article.title}`;
    } else {
      document.getElementById('article-title').textContent = 'Article non trouvÃ©';
      document.getElementById('article-content').textContent = 'L\'article que vous recherchez n\'existe pas.';
    }

    // Mobile nav toggle
    const mobileToggle = document.querySelector('.mobile-nav-toggle');
    const mainNavEl = document.querySelector('.main-nav');
    if (mobileToggle && mainNavEl) {
      mobileToggle.addEventListener('click', () => {
        const expanded = mobileToggle.getAttribute('aria-expanded') === 'true';
        mobileToggle.setAttribute('aria-expanded', String(!expanded));
        mainNavEl.classList.toggle('open');
      });
      mainNavEl.querySelectorAll('.nav-link').forEach(l => l.addEventListener('click', () => {
        mainNavEl.classList.remove('open');
        mobileToggle.setAttribute('aria-expanded', 'false');
      }));
    }
  </script>
</body>
</html>
